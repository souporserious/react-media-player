/*! For license information please see react-media-player.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactMediaPlayer=t(require("react"),require("react-dom")):e.ReactMediaPlayer=t(e.React,e.ReactDOM)}(self,((e,t)=>(()=>{var r={433:(e,t,r)=>{"use strict";var n=r(642);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,u){if(u!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},74:(e,t,r)=>{e.exports=r(433)()},642:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:t=>{"use strict";t.exports=e},156:e=>{"use strict";e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{Media:()=>j,Player:()=>Se,controls:()=>e,utils:()=>t,withMediaProps:()=>De});var e={};o.r(e),o.d(e,{CurrentTime:()=>Ge,Duration:()=>pt,Fullscreen:()=>Vt,MuteUnmute:()=>_t,PlayPause:()=>Ne,Progress:()=>Qe,SeekBar:()=>at,Volume:()=>Rt});var t={};o.r(t),o.d(t,{formatTime:()=>Be,keyboardControls:()=>Ft});var r=o(787),n=o.n(r),u=o(74),a=o.n(u),c=n().createContext({});const s="undefined"==typeof document?function(){}:["requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullscreen"].reduce((function(e,t){return document.documentElement[t]?t:e})),l="undefined"==typeof document?function(){}:["exitFullscreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen"].reduce((function(e,t){return document[t]?t:e}));function f(e,t){["fullscreenchange","mozfullscreenchange","MSFullscreenChange","webkitfullscreenchange"].forEach((function(r){return document["".concat(e,"EventListener")](r,t)}))}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function _(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===p(t)?t:String(t)}var g={onPlay:"isPlaying",onPause:"isPlaying",onDuration:"duration",onProgress:"progress",onTimeUpdate:"currentTime",onMute:"isMuted",onVolumeChange:"volume",onError:null},P=Object.keys(g),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(y,e);var t,o,i,u,a=(i=y,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(i);if(u){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(h(e=a.call.apply(a,[this].concat(r))),"state",{currentTime:0,progress:0,duration:.1,volume:1,isLoading:!0,isPlaying:!1,isMuted:!1,isFullscreen:!1}),_(h(e),"_isMounted",!1),_(h(e),"_playerProps",{}),_(h(e),"_lastVolume",0),_(h(e),"_setPlayer",(function(t){e._player=t})),_(h(e),"_setPlayerProps",(function(t){e._playerProps=t})),_(h(e),"_setPlayerState",(function(t){e.setState(t)})),_(h(e),"play",(function(){return e._player.play()})),_(h(e),"pause",(function(){e._player.pause()})),_(h(e),"playPause",(function(){if(!e.state.isPlaying)return e.play();e.pause()})),_(h(e),"stop",(function(){e._player.stop()})),_(h(e),"seekTo",(function(t){e._player.seekTo(t),e.setState({currentTime:t})})),_(h(e),"skipTime",(function(t){var r=e.state,n=r.currentTime,o=r.duration,i=n+t;i<0?i=0:i>o&&(i=o),e.seekTo(i)})),_(h(e),"mute",(function(t){if(t)e._lastVolume=e.state.volume,e._player.setVolume(0);else{var r=e._lastVolume>0?e._lastVolume:.1;e._player.setVolume(r)}e._player.mute(t)})),_(h(e),"muteUnmute",(function(){e.mute(!e.state.isMuted)})),_(h(e),"setVolume",(function(t){if(t=parseFloat(t),!isNaN(t)){var r=t<=0;r!==e.state.isMuted?e.mute(r):e._lastVolume=t,e._player.setVolume(t)}})),_(h(e),"addVolume",(function(t){var r=e.state.volume+.01*t;r<0?r=0:r>1&&(r=1),e.setVolume(r)})),_(h(e),"fullscreen",(function(){e.state.isFullscreen?document[l]():e._player.node[s]()})),_(h(e),"_handleFullscreenChange",(function(t){t.target===e._player.node&&e.setState({isFullscreen:!e.state.isFullscreen})})),e}return t=y,(o=[{key:"getContext",value:function(){return{media:this._getPublicMediaProps(),_mediaSetters:{setPlayer:this._setPlayer,setPlayerProps:this._setPlayerProps,setPlayerState:this._setPlayerState},_mediaGetters:{getPlayerEvents:this._getPlayerEvents()}}}},{key:"componentDidMount",value:function(){this._isMounted=!0,f("add",this._handleFullscreenChange)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,f("remove",this._handleFullscreenChange)}},{key:"_getPublicMediaProps",value:function(){return d(d({},this.state),{},{play:this.play,pause:this.pause,playPause:this.playPause,stop:this.stop,seekTo:this.seekTo,skipTime:this.skipTime,mute:this.mute,muteUnmute:this.muteUnmute,setVolume:this.setVolume,addVolume:this.addVolume,fullscreen:this.fullscreen})}},{key:"_getPlayerEvents",value:function(){var e=this,t={};return P.forEach((function(r){var n=g[r],o=function(){var t=e._playerProps[r];"function"==typeof t&&t(e.state)};t[r]=function(t){n?e._isMounted&&e.setState(_({},n,t),o):o()}})),t}},{key:"render",value:function(){var e=this.props.children,t=this.getContext();return n().createElement(c.Provider,{value:t},"function"==typeof e?e(this._getPublicMediaProps()):r.Children.only(e))}}])&&b(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),y}(r.Component);_(w,"propTypes",{children:a().oneOfType([a().func,a().node]).isRequired});const j=w;var S=o(156);const k={src:a().string,onPlaying:a().func,onProgress:a().func,onDuration:a().func,onTimeUpdate:a().func,onVolumeChange:a().func};var E=["connectSource","useAudioObject"],T=["connectSource","useAudioObject"];function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function I(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===R(t)?t:String(t)}var L,N="undefined"!=typeof window&&(window.AudioContext||window.webkitAudioContext);N&&(L=new N);var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(a,e);var t,n,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(o);if(i){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return I(U(e=u.call.apply(u,[this].concat(r))),"_isLoading",(function(){e.props.isLoading(!0)})),I(U(e),"_isNotLoading",(function(){e.props.isLoading(!1)})),I(U(e),"_handleCanPlay",(function(){e.props.onReady(),e._isNotLoading()})),I(U(e),"_handlePlay",(function(){e.props.onPlay(!0),e._isNotLoading()})),I(U(e),"_handlePause",(function(){e.props.onPause(!1)})),I(U(e),"_handleEnded",(function(){e.props.onEnded(!1)})),I(U(e),"_handleError",(function(t){e._playerStopped?e._playerStopped=!1:(e.props.onError(t),e._isNotLoading())})),I(U(e),"_handleProgress",(function(t){var r=t.target,n=r.buffered,o=r.duration,i=0;o>0&&n.length&&(i=n.end(n.length-1)/o),e.props.onProgress(i)})),I(U(e),"_handleDuration",(function(t){var r=t.target.duration;e.props.onDuration(r),e._isNotLoading()})),I(U(e),"_handleTimeUpdate",(function(t){var r=t.target.currentTime;e.props.onTimeUpdate(r)})),e}return t=a,(n=[{key:"instance",get:function(){return this._player}},{key:"node",get:function(){return(0,S.findDOMNode)(this._player)}},{key:"componentDidMount",value:function(){var e=this.props.extraProps,t=e.connectSource,r=e.useAudioObject;"audio"===this.props.vendor&&(r&&(this._createAudioObject(),this._bindAudioObjectEvents()),L&&t&&this._connectAudioContext())}},{key:"componentDidUpdate",value:function(e){var t=this.props.extraProps,r=t.connectSource,n=t.useAudioObject,o=this.props.vendor!==e.vendor,i=this.props.src!==e.src;n&&(o?this._createAudioObject():i&&(this._destroyAudioObject(),this._createAudioObject()),this._bindAudioObjectEvents()),"audio"===this.props.vendor&&L&&r&&(o?this._connectAudioContext():i&&(this._disconnectAudioContext(),this._connectAudioContext()))}},{key:"componentWillUnmount",value:function(){var e=this.props.extraProps,t=e.connectSource,r=e.useAudioObject;L&&t&&this._disconnectAudioContext(),r&&this._destroyAudioObject()}},{key:"play",value:function(){return L&&"suspended"===L.state&&L.resume(),this._player.play()}},{key:"pause",value:function(){this._player.pause()}},{key:"stop",value:function(){this._player.pause(),this._player.currentTime=0}},{key:"seekTo",value:function(e){this._player.readyState>0&&(this._player.currentTime=e)}},{key:"mute",value:function(e){var t=e?0:1;this._player.muted=e,this.setVolume(t),this.props.onMute(e),this.props.onVolumeChange(t)}},{key:"setVolume",value:function(e){this._gain?this._gain.gain.value=e:this._player.volume=e,this.props.onVolumeChange(e)}},{key:"_playerEvents",get:function(){return{onCanPlay:this._handleCanPlay,onCanPlayThrough:this._isNotLoading,onPlay:this._handlePlay,onPlaying:this._isNotLoading,onPause:this._handlePause,onEnded:this._handleEnded,onWaiting:this._isLoading,onError:this._handleError,onProgress:this._handleProgress,onLoadedMetadata:this._handleDuration,onTimeUpdate:this._handleTimeUpdate,onSeeking:this._isLoading,onSeeked:this._isNotLoading}}},{key:"_createAudioObject",value:function(){this._player=new Audio(this.props.src)}},{key:"_destroyAudioObject",value:function(){this.stop(),this._player.src="about:blank",this._playerStopped=!0}},{key:"_bindAudioObjectEvents",value:function(){var e=this,t=this.props.extraProps,r=(t.connectSource,t.useAudioObject,M(t,E)),n=this._playerEvents;Object.keys(r).forEach((function(t){e._player[t]=r[t]})),Object.keys(n).forEach((function(t){e._player[t.toLowerCase()]=n[t]}))}},{key:"_connectAudioContext",value:function(){var e=this.props.extraProps,t=e.connectSource,r=e.useAudioObject;!r&&this._source||(this._source=L.createMediaElementSource(r?this.instance:this.node)),this._gain=L.createGain(),t(this._source,L).connect(this._gain),this._gain.connect(L.destination)}},{key:"_disconnectAudioContext",value:function(){this._source.disconnect(0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.vendor,o=t.src,i=t.extraProps,u=(i.connectSource,i.useAudioObject),a=M(i,T);return u?null:(0,r.createElement)(n,x(x({ref:function(t){return e._player=t},src:o},a),this._playerEvents))}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);I(B,"propTypes",x(x({},k),{},{useAudioObject:a().bool}));const q=B;function W(e){var t=e.match(/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/);if(t)return t[3];throw"Invalid Vimeo ID provided"}function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function K(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Y(t)?t:String(t)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$(o);if(i){var r=$(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return K(J(e=u.call.apply(u,[this].concat(r))),"_vimeoId",W(e.props.src)),K(J(e),"_origin","*"),K(J(e),"_onMessage",(function(t){var r;if(!/^https?:\/\/player.vimeo.com/.test(t.origin))return!1;"*"===e._origin&&(e._origin=t.origin);try{r=JSON.parse(t.data)}catch(t){e.props.onError(t)}if(r){switch(r.event){case"ready":e._postOnReadyMessages();break;case"loadProgress":e.props.onProgress(r.data.percent);break;case"playProgress":e.props.onTimeUpdate(r.data.seconds);break;case"play":e.props.onPlay(!0);break;case"pause":e.props.onPause(!1);break;case"finish":e.props.onEnded(!1)}"getDuration"===r.method&&e.props.onDuration(r.value)}})),e}return t=a,(r=[{key:"componentDidMount",value:function(){window.addEventListener("message",this._onMessage)}},{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&(this._vimeoId=W(e.src))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._onMessage)}},{key:"instance",get:function(){return this._iframe}},{key:"node",get:function(){return(0,S.findDOMNode)(this._iframe)}},{key:"_postMessage",value:function(e,t){var r={method:e};t&&(r.value=t),this._iframe.contentWindow.postMessage(JSON.stringify(r),this._origin)}},{key:"_postOnReadyMessages",value:function(){var e=this;["loadProgress","playProgress","play","pause","finish"].forEach((function(t){return e._postMessage("addEventListener",t)})),this._postMessage("getDuration"),this.props.onReady()}},{key:"play",value:function(){this._postMessage("play")}},{key:"pause",value:function(){this._postMessage("pause")}},{key:"stop",value:function(){this._postMessage("unload")}},{key:"seekTo",value:function(e){this._postMessage("seekTo",e)}},{key:"mute",value:function(e){this._postMessage("setVolume",e?"0":"1"),this.props.onMute(e),this.props.onVolumeChange(e?0:1)}},{key:"setVolume",value:function(e){this._postMessage("setVolume",e),this.props.onVolumeChange(+e)}},{key:"render",value:function(){var e=this;return n().createElement("iframe",z({ref:function(t){return e._iframe=t},src:"https://player.vimeo.com/video/".concat(this._vimeoId,"?api=1")},this.props.extraProps))}}])&&G(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);K(X,"propTypes",k);const Z=X,ee={_queue:[],_isLoaded:!1,load:function(e){this._isLoaded?e._createPlayer():(this._queue.push(e),1===this._queue.length&&this._loadAPI())},_loadAPI:function(){var e,t=this;(e=document.createElement("script")).async=!0,e.src="//youtube.com/player_api",e.onload=function(){return!1},document.head.appendChild(e),window.onYouTubeIframeAPIReady=function(){t._isLoaded=!0;for(var e=t._queue.length;e--;)t._queue[e]._createPlayer();t._queue=[]}}};function te(e){var t=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/);if(t&&11===t[1].length)return t[1];throw"Invalid Youtube ID provided"}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,se(n.key),n)}}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function ce(e,t,r){return(t=se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function se(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ae(o);if(i){var r=ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ue(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ce(ue(e=u.call.apply(u,[this].concat(r))),"_videoId",te(e.props.src)),ce(ue(e),"_lastVideoId",e._videoId),ce(ue(e),"_isReady",!1),ce(ue(e),"_isMounted",!1),ce(ue(e),"_progressId",null),ce(ue(e),"_timeUpdateId",null),ce(ue(e),"_handleProgress",(function(){if(e._isMounted){var t=e._player.getVideoLoadedFraction()||0;e.props.onProgress(t),e._progressId&&t<1&&(e._progressId=requestAnimationFrame(e._handleProgress))}})),ce(ue(e),"_handleTimeUpdate",(function(){e._isMounted&&(e.props.onTimeUpdate(e._player.getCurrentTime()||0),e._timeUpdateId&&(e._timeUpdateId=requestAnimationFrame(e._handleTimeUpdate)))})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0,ee.load(this)}},{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&(this._lastVideoId=this._videoId,this._videoId=te(e.src),this._isReady&&(e.autoPlay?this._player.loadVideoById(this._videoId):this._player.cueVideoById(this._videoId),this.props.onReady()))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._progressId&&cancelAnimationFrame(this._progressId),this._timeUpdateId&&cancelAnimationFrame(this._timeUpdateId),this._player&&this._player.destroy()}},{key:"instance",get:function(){return this._player}},{key:"node",get:function(){return this._player.getIframe()}},{key:"_createPlayer",value:function(){this._player=new YT.Player(this._node,{videoId:this._videoId,events:this._events(),playerVars:{controls:0,showinfo:0,modestbranding:1}})}},{key:"_events",value:function(){var e=this;return{onReady:function(){e._videoId!==e._lastVideoId&&e._player.loadVideoById(e._videoId),e._isReady=!0,e.props.onDuration(e._player.getDuration()),e.props.onReady()},onStateChange:function(t){var r=t.data,n=window.YT.PlayerState,o=n.PLAYING,i=n.PAUSED,u=n.ENDED,a=n.BUFFERING,c=n.CUED,s=r===o;s?(e.props.onPlay(!0),e.props.isLoading(!1),e.props.onDuration(e._player.getDuration()),e._timeUpdateId=requestAnimationFrame(e._handleTimeUpdate)):(cancelAnimationFrame(e._timeUpdateId),e._timeUpdateId=null,cancelAnimationFrame(e._progressId),e._progressId=null),-1!==r&&r!==a||e.props.isLoading(!0),r===i&&e.props.onPause(!1),r===u&&(e.props.isLoading(!1),e.props.onEnded(!1)),(s||r===a)&&(e._progressId=requestAnimationFrame(e._handleProgress)),r===c&&(e.props.isLoading(!1),e.props.onDuration(.1))},onError:function(t){e.props.onError(t.data)}}}},{key:"play",value:function(){this._player.playVideo()}},{key:"pause",value:function(){this._player.pauseVideo()}},{key:"stop",value:function(){this._player.stopVideo()}},{key:"seekTo",value:function(e){this._player.seekTo(e)}},{key:"mute",value:function(e){e?this._player.mute():this._player.unMute(),this.props.onMute(e),this.props.onVolumeChange(e?0:1)}},{key:"setVolume",value:function(e){this._player.setVolume(100*+e),this.props.onVolumeChange(+e)}},{key:"render",value:function(){var e=this;return n().createElement("div",ne({ref:function(t){return e._node=t}},this.props.extraProps))}}])&&oe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);ce(le,"propTypes",k);const fe=le;var pe=["defaultCurrentTime","defaultMuted","defaultVolume"],ye=["src","vendor","autoPlay","onReady","onEnded","defaultCurrentTime","defaultVolume","defaultMuted"];function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,we(n.key),n)}}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}function Pe(e,t,r){return(t=we(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===de(t)?t:String(t)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(a,e);var t,n,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ge(o);if(i){var r=ge(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Pe(Oe(e=u.call.apply(u,[this].concat(r))),"_defaultsSet",!1),Pe(Oe(e),"_setPlayer",(function(t){e.context._mediaSetters.setPlayer(t),e._component=t})),Pe(Oe(e),"_setLoading",(function(t){e.context._mediaSetters.setPlayerState({isLoading:t})})),Pe(Oe(e),"_handleOnReady",(function(){var t=e.context,r=t.media,n=(t._mediaSetters,e.props),o=n.autoPlay,i=n.onReady;e._defaultsSet?(r.mute(r.isMuted),r.setVolume(r.volume)):e._setDefaults(),o&&r.play(),e._setLoading(!1),"function"==typeof i&&i(r)})),Pe(Oe(e),"_handleOnEnded",(function(){var t=e.context,r=t.media,n=t._mediaSetters,o=e.props,i=o.loop,u=o.onEnded;i?(r.seekTo(0),r.play()):n.setPlayerState({isPlaying:!1}),"function"==typeof u&&u(r)})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.defaultCurrentTime,r=e.defaultMuted,n=e.defaultVolume,o=he(e,pe);this._setPlayerProps(me({volume:n},o)),this._setPlayerState({currentTime:t,volume:r?0:n}),this.props.src||this._setLoading(!1)}},{key:"componentWillUpdate",value:function(e){this._setPlayerProps(e),this.props.src!==e.src&&this._setPlayerState({currentTime:0,progress:0,duration:0,isLoading:!0,isPlaying:!1})}},{key:"instance",get:function(){return this._component&&this._component.instance}},{key:"_setPlayerProps",value:function(e){this.context._mediaSetters.setPlayerProps(e)}},{key:"_setPlayerState",value:function(e){this.context._mediaSetters.setPlayerState(e)}},{key:"_setDefaults",value:function(){var e=this.context.media,t=this.props,r=t.defaultCurrentTime,n=t.defaultVolume,o=t.defaultMuted;r>0&&e.seekTo(r),o?e.mute(o):1!==n&&e.setVolume(n),this._defaultsSet=!0}},{key:"render",value:function(){var e=this.props,t=e.src,n=e.vendor,o=e.autoPlay,i=(e.onReady,e.onEnded,e.defaultCurrentTime,e.defaultVolume,e.defaultMuted,he(e,ye)),u=function(e,t){return e=e||"","youtube"===t||/youtube.com|youtu.be/.test(e)?{vendor:"youtube",component:fe}:"vimeo"===t||/vimeo.com/.test(e)?{vendor:"vimeo",component:Z}:{vendor:"audio"===t||/\.(mp3|wav|m4a)($|\?)/i.test(e)?"audio":"video",component:q}}(t,n),a=u.vendor,c=u.component;return(0,r.createElement)(c,me({src:t,vendor:a,autoPlay:o,extraProps:i,ref:this._setPlayer,isLoading:this._setLoading,onReady:this._handleOnReady,onEnded:this._handleOnEnded},this.context._mediaGetters.getPlayerEvents))}}])&&ve(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);Pe(je,"contextType",c),Pe(je,"propTypes",{vendor:a().oneOf(["video","audio","youtube","vimeo"]),defaultCurrentTime:a().number,defaultVolume:a().number,defaultMuted:a().bool}),Pe(je,"defaultProps",{defaultCurrentTime:0,defaultVolume:1,defaultMuted:!1});const Se=je;function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(this,arguments)}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Me(n.key),n)}}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Re(e,t)}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}function xe(e,t,r){return(t=Me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Me(e){var t=function(e,t){if("object"!==ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ke(t)?t:String(t)}function De(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(c,t);var r,o,i,u,a=(i=c,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ce(i);if(u){var r=Ce(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.apply(this,arguments)}return r=c,(o=[{key:"render",value:function(){return n().createElement(e,Ee({},this.props,{media:this.context.media}))}}])&&Te(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),c}(r.Component),xe(t,"contextType",c),xe(t,"displayName","withMediaProps"),t}function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Le(n.key),n)}}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ve(e,t)}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function Le(e){var t=function(e,t){if("object"!==Ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ae(t)?t:String(t)}const Ne=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fe(o);if(i){var r=Fe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ie(e)}(this,e)});function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=Ie(e=u.call.apply(u,[this].concat(i))),n=function(){e.props.media.playPause()},(r=Le(r="_handlePlayPause"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.isPlaying!==t.isPlaying}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media;return n().createElement("button",{type:"button",className:t,style:r,onClick:this._handlePlayPause},o.isPlaying?"Pause":"Play")}}])&&Ue(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function Be(e){var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),n=Math.floor(e%60);return n<10&&(n="0"+n),t>0?t+":"+(r=r<10?"0".concat(r):r)+":"+n:r+":"+n}function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==qe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===qe(o)?o:String(o)),n)}var o}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}const Ge=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ze(o);if(i){var r=ze(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.currentTime!==t.currentTime}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media;return n().createElement("time",{className:t,style:r},Be(o.currentTime))}}])&&We(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==He(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===He(o)?o:String(o)),n)}var o}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$e(e,t)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}const Qe=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ke(o);if(i){var r=Ke(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.progress!==t.progress}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media;return n().createElement("progress",{className:t,style:r,max:100,value:100*o.progress})}}])&&Je(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){it(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ut(n.key),n)}}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}function it(e,t,r){return(t=ut(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ut(e){var t=function(e,t){if("object"!==Xe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xe(t)?t:String(t)}const at=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ot(o);if(i){var r=ot(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nt(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return it(nt(e=u.call.apply(u,[this].concat(r))),"_isPlayingOnMouseDown",!1),it(nt(e),"_onChangeUsed",!1),it(nt(e),"_handleMouseDown",(function(){e._isPlayingOnMouseDown=e.props.media.isPlaying,e.props.media.pause()})),it(nt(e),"_handleMouseUp",(function(t){var r=t.target.value;e._onChangeUsed||e.props.media.seekTo(+r),e._isPlayingOnMouseDown&&e.props.media.play()})),it(nt(e),"_handleChange",(function(t){var r=t.target.value;e.props.media.seekTo(+r),e._onChangeUsed=!0})),e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.currentTime!==t.currentTime||this.props.media.duration!==t.duration}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media,i=o.duration,u=o.currentTime;return n().createElement("input",{type:"range",step:"any",max:i.toFixed(4),value:u,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onChange:this._handleChange,className:t,style:et({backgroundSize:100*u/i+"% 100%"},r)})}}])&&tt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ct(o)?o:String(o)),n)}var o}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}const pt=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lt(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ft(o);if(i){var r=ft(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u.apply(this,arguments)}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.duration!==t.duration}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media;return n().createElement("time",{className:t,style:r},Be(o.duration))}}])&&st(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function yt(e){return yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(e)}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vt(n.key),n)}}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ht(e)}function vt(e){var t=function(e,t){if("object"!==yt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===yt(t)?t:String(t)}const _t=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ht(o);if(i){var r=ht(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}(this,e)});function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=mt(e=u.call.apply(u,[this].concat(i))),n=function(){e.props.media.muteUnmute()},(r=vt(r="_handleMuteUnmute"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.isMuted!==t.isMuted}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media;return n().createElement("button",{type:"button",className:t,style:r,onClick:this._handleMuteUnmute},o.isMuted?"Unmute":"Mute")}}])&&dt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tt(n.key),n)}}function jt(e,t){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jt(e,t)}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kt(e)}function Et(e,t,r){return(t=Tt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e){var t=function(e,t){if("object"!==Ot(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ot(t)?t:String(t)}const Rt=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kt(o);if(i){var r=kt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return St(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Et(St(e=u.call.apply(u,[this].concat(r))),"_onChangeUsed",!1),Et(St(e),"_handleMouseUp",(function(t){var r=t.target.value;e._onChangeUsed||e.props.media.setVolume((+r).toFixed(4))})),Et(St(e),"_handleChange",(function(t){var r=t.target.value;e.props.media.setVolume((+r).toFixed(4)),e._onChangeUsed=!0})),e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.volume!==t.volume}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media.volume;return n().createElement("input",{type:"range",step:"any",min:0,max:1,value:o,onMouseUp:this._handleMouseUp,onChange:this._handleChange,className:t,style:Pt({backgroundSize:100*o/1+"% 100%"},r)})}}])&&wt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ut(n.key),n)}}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function Ut(e){var t=function(e,t){if("object"!==Ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ct(t)?t:String(t)}const Vt=De(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(a,e);var t,r,o,i,u=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=At(o);if(i){var r=At(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dt(e)}(this,e)});function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=Dt(e=u.call.apply(u,[this].concat(i))),n=function(){e.props.media.fullscreen()},(r=Ut(r="_handleFullscreen"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){var t=e.media;return this.props.media.isFullscreen!==t.isFullscreen}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,o=e.media;return n().createElement("button",{type:"button",className:t,style:r,onClick:this._handleFullscreen},o.isFullscreen?"Exit Fullscreen":"Fullscreen")}}])&&xt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component));var It=[0,"f","j","k","l",",","."," ","Home","End","ArrowLeft","ArrowTop","ArrowRight","ArrowDown"];function Ft(e,t){var r=e.duration,n=e.playPause,o=e.seekTo,i=e.skipTime,u=e.addVolume,a=e.fullscreen,c=t.key,s=t.shiftKey;switch(It.some((function(e){return e===c&&t.preventDefault()})),c){case" ":case"k":n();break;case"ArrowLeft":case"j":i(s?-10:-5);break;case",":i(-1);break;case"ArrowRight":case"l":i(s?10:5);break;case".":i(1);break;case 0:case"Home":o(0);break;case"End":o(r);break;case"ArrowUp":u(s?10:5);break;case"ArrowDown":u(s?-10:-5);break;case"f":a()}}})(),i})()));